(this["webpackJsonpgithub-repo-explorer"]=this["webpackJsonpgithub-repo-explorer"]||[]).push([[0],{207:function(e,t,r){},208:function(e,t,r){},248:function(e,t,r){},250:function(e,t,r){},252:function(e,t,r){},341:function(e,t,r){},342:function(e,t,r){},343:function(e,t,r){},347:function(e,t,r){"use strict";r.r(t);var n,a=r(0),c=r.n(a),o=r(32),i=r.n(o),s=(r(207),r(208),r(33)),u=r(41),l=r(201),p=r(9),b=r.n(p),j=r(55),d=r(35),f=r(351),h=r(106),O=r.n(h),m=function(){var e=Object(j.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.a.get(t,r).then((function(e){if(200===e.status){var r=e.data,n=r.full_name,a=r.default_branch;return{name:n,apiUrl:t,defaultBranch:a}}})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.a.get("".concat(t),r));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.a.get(t).then((function(e){var t=e.data;return t?window.atob(t.content):""})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.a.get("".concat(t,"/branches")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=r(31),y=function(e){return e.map((function(e){return{key:e.url,title:e.name,isLeaf:"file"===e.type}}))},w=function(e){return e.sort(S),e},S=function(e,t){return!e.isLeaf&&t.isLeaf?-1:e.isLeaf&&!t.isLeaf?1:0},U=function e(t,r,n){return t.map((function(t){return t.key===r?Object(g.a)(Object(g.a)({},t),{},{children:n}):t.children?Object(g.a)(Object(g.a)({},t),{},{children:e(t.children,r,n)}):t}))},B=r(34),R=function(e){return e.explorer},N=Object(B.a)([R],(function(e){return e.repoUrl})),C=Object(B.a)([R],(function(e){return e.repoInfo})),I=Object(B.a)([C],(function(e){return e.apiUrl})),F=Object(B.a)([C],(function(e){return e.name})),L=(Object(B.a)([C],(function(e){return e.defaultBranch})),Object(B.a)([R],(function(e){return e.selectedFile}))),E=Object(B.a)([R],(function(e){return e.repoBranch}));!function(e){e.SetSelectedFile="[Explorer] Select File",e.SetRepoUrl="[Explorer] Set Repository URL",e.SetRepoInfo="[Explorer] Set Repository Info",e.SetRepoBranch="[Explorer] Set Repository Branch"}(n||(n={}));var P,D=function(e){return{type:n.SetRepoUrl,payload:e}},A=function(e){return{type:n.SetRepoInfo,payload:e}},T=function(e){return{type:n.SetRepoBranch,payload:e}},Y=r(10),M=f.a.DirectoryTree,z=Object(B.b)({repoApiUrl:I,repoBranch:E}),J=Object(u.b)(z,(function(e){return{setSelectFile:function(t){return e((r=t,{type:n.SetSelectedFile,payload:r}));var r}}}))((function(e){var t=e.repoApiUrl,r=e.repoBranch,n=e.setSelectFile,c=Object(a.useState)([]),o=Object(d.a)(c,2),i=o[0],s=o[1];Object(a.useEffect)((function(){(function(){var e=Object(j.a)(b.a.mark((function e(){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,v("".concat(t,"/contents").concat(r?"?ref="+r:""));case 5:if(200===(n=e.sent).status){e.next=8;break}return e.abrupt("return");case 8:a=w(y(n.data)),s(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[t,r]);var u=function(){var e=Object(j.a)(b.a.mark((function e(t){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t.key);case 3:if(200===(r=e.sent).status){e.next=6;break}return e.abrupt("return");case 6:n=U(i,t.key,w(y(r.data))),s(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsx)("div",{className:"file-explorer",children:Object(Y.jsx)(M,{loadData:u,onSelect:function(e,t){if(t.node.isLeaf){var r={url:e[0],name:t.selectedNodes[0].title};n(r)}},treeData:i})})})),W=r(187),_=r(194),q=(r(248),r(249)),K=Object(B.b)({selectedFile:L,repoApiUrl:I,repoBranch:E}),G=Object(u.b)(K)((function(e){var t=e.selectedFile,r=e.repoApiUrl,n=e.repoBranch,c=t,o=c.name,i=c.url,s=Object(a.useState)(""),u=Object(d.a)(s,2),l=u[0],p=u[1],f=Object(a.useState)("text"),h=Object(d.a)(f,2),O=h[0],m=h[1];return Object(a.useEffect)((function(){(function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,x(i);case 5:t=e.sent,p(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[i]),Object(a.useEffect)((function(){p(""),m("text")}),[r,n]),Object(a.useEffect)((function(){var e=(new W.LangLine).withFileName(o),t="text",r=q[null===e||void 0===e?void 0:e.name];switch(r&&"aceMode"in r&&(t=null===r||void 0===r?void 0:r.aceMode),o.split(".").pop()){case"tsx":case"ts":t="typescript";break;case"jsx":t="javascript";break;case"md":t="markdown"}m(t),console.log(e,q[null===e||void 0===e?void 0:e.name],t)}),[o]),Object(Y.jsx)("div",{className:"file-viewer",children:l?Object(Y.jsx)(_.a,{options:{readOnly:!0},height:"100%",width:"100%",value:l,language:O,theme:"vs-dark"}):null})})),H=r(352),Q=r(202),V=H.a.Option,X=Object(B.b)({repoApiUrl:I,branchName:E}),Z=Object(u.b)(X,(function(e){return{setNewRepoBranch:function(t){return e(T(t))}}}))((function(e){var t=e.repoApiUrl,r=e.branchName,n=e.setNewRepoBranch,c=Object(a.useState)(!1),o=Object(d.a)(c,2),i=o[0],s=o[1],u=Object(a.useState)([]),l=Object(d.a)(u,2),p=l[0],f=l[1];Object(a.useEffect)((function(){(function(){var e=Object(j.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,k(t);case 3:200===(r=e.sent).status&&f(r.data),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[t]);return Object(Y.jsx)(H.a,{showSearch:!0,style:{width:200},placeholder:"Search to Select",optionFilterProp:"children",filterOption:function(e,t){return(null===t||void 0===t?void 0:t.children.toLowerCase().indexOf(e.toLowerCase()))>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},loading:i,value:r,onSelect:function(e){return function(e){n(e),Q.a.info({message:"Info",description:"Switched the branch - "+e,placement:"bottomRight"})}(e)},children:p.length?p.map((function(e){var t=e.name;return Object(Y.jsx)(V,{value:t,children:t},t)})):null})})),$=(r(250),Object(u.b)(null,(function(e){return{setRepoUrl:function(t){return e(D(t))}}}))((function(e){var t=e.setRepoUrl,r=Object(s.g)();Object(a.useEffect)((function(){var e=decodeURIComponent((null===r||void 0===r?void 0:r.repositoryUrl)||"");t(e||"https://github.com/indrajitbnikam/github-repo-explorer")}),[r,t]);return Object(Y.jsx)("div",{className:"viewer-page-container",children:Object(Y.jsxs)(l.a,{split:"vertical",style:{height:"calc(100% - 73px)"},pane2Style:{width:"100%",height:"100%"},defaultSize:localStorage.getItem("splitPos")?parseInt(localStorage.getItem("splitPos"),10):300,onChange:function(e){return localStorage.setItem("splitPos","".concat(e))},children:[Object(Y.jsxs)("div",{className:"file-explorer-container",children:[Object(Y.jsx)("div",{className:"branch-selector-container",children:Object(Y.jsx)(Z,{})}),Object(Y.jsx)("div",{className:"explorer",children:Object(Y.jsx)(J,{})})]}),Object(Y.jsx)("div",{className:"file-viewer-container",children:Object(Y.jsx)(G,{})})]})})}))),ee=r(58),te=r(355),re=r(353),ne=(r(252),r(191)),ae=r.n(ne),ce=Object(B.b)({repoUrl:N}),oe=Object(u.b)(ce)((function(e){var t=e.repoUrl,r=Object(a.useState)(!1),n=Object(d.a)(r,2),c=n[0],o=n[1],i=Object(a.useState)(""),s=Object(d.a)(i,2),u=s[0],l=s[1];Object(a.useEffect)((function(){l(t)}),[t,c]);var p=function(){o(!1)};return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ee.a,{type:"primary",onClick:function(){return o(!0)},children:"Create a badge \ud83d\ude80"}),Object(Y.jsxs)(te.a,{title:"Paste your github repository url here,",centered:!0,visible:c,onCancel:p,footer:[Object(Y.jsx)(ee.a,{type:"primary",onClick:p,children:"OK"},"ok")],children:[Object(Y.jsx)(re.a,{value:u,onChange:function(e){return l(e.target.value)},placeholder:"i.e. https://github.com/indrajitbnikam/github-repo-explorer"}),u?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("p",{children:"Copy following line to your readme.md file \ud83d\udc47"}),Object(Y.jsx)(ae.a,{type:"secondary",copyable:!0,children:function(e){var t=encodeURIComponent(e);return"[![Website](".concat("https://img.shields.io/badge/Explore%20my%20repo%20-github--repo--explorer-green?style=flat-square&logo=github",")](").concat("https://indrajitbnikam.github.io/github-repo-explorer/#/").concat(t,")")}(u)})]}):null]})]})})),ie=(r(341),Object(B.b)({repoUrl:N})),se=Object(u.b)(ie,(function(e){return{setRepoUrl:function(t){return e(D(t))}}}))((function(e){var t=e.repoUrl,r=e.setRepoUrl;return Object(Y.jsx)(re.a,{placeholder:"Paste your github repo url",value:t,onChange:function(e){return r(e.target.value)}})})),ue=(r(342),r(358)),le=r(359),pe=r(354),be=r(356),je=r(357),de=r(125),fe=(r(343),Object(B.a)([function(e){return e.bookmarks}],(function(e){return e.bookmarks}))),he=Object(B.a)([fe,N],(function(e,t){return void 0!==e.find((function(e){return e.url===t}))}));!function(e){e.SaveBookmark="[Bookmarks] Save",e.DeleteBookmark="[Bookmarks] Delete"}(P||(P={}));var Oe=Object(B.b)({repoName:F,repoUrl:N,bookmarks:fe,isItBookmarked:he}),me=Object(u.b)(Oe,(function(e){return{saveBookmark:function(t){return e(function(e){return{type:P.SaveBookmark,payload:e}}(t))},deleteBookmark:function(t){return e(function(e){return{type:P.DeleteBookmark,payload:e}}(t))},setRepoUrl:function(t){return e(D(t))}}}))((function(e){var t=e.repoName,r=e.repoUrl,n=e.bookmarks,a=e.isItBookmarked,c=e.saveBookmark,o=e.deleteBookmark,i=e.setRepoUrl,s=function(e){i(e.key),Q.a.info({message:"Info",description:"Switched repository!",placement:"bottomRight"})},u=Object(Y.jsxs)("div",{children:[Object(Y.jsx)("p",{children:"Pinned repos can be accessed through this dropdown."}),Object(Y.jsx)("p",{children:"You can unpin these anytime."}),Object(Y.jsx)("p",{children:"Pinned repos will be saved locally in localstorage."})]});return Object(Y.jsxs)("div",{className:"bookmarks-container",children:[Object(Y.jsxs)("div",{className:"bookmark-dropdown",children:[Object(Y.jsx)(be.a,{overlay:function(e){return Object(Y.jsx)(pe.a,{onClick:s,children:e.length?e.map((function(e){return Object(Y.jsx)(pe.a.Item,{children:e.name},e.url)})):null})}(n),disabled:!n.length,trigger:["click"],children:Object(Y.jsxs)(ee.a,{children:[Object(Y.jsx)(ue.a,{})," Pinned repos"]})}),Object(Y.jsx)(je.a,{content:u,title:"What are pinned repos?",trigger:"hover",children:Object(Y.jsx)(le.a,{twoToneColor:"#bebebe",style:{marginLeft:"10px"}})})]}),Object(Y.jsx)("div",{className:"bookmark-toggle",children:Object(Y.jsx)(de.a,{title:a?"Unpin this repo":"Pin this repo",children:Object(Y.jsx)(ue.a,{style:{fontSize:"20px",cursor:"pointer"},twoToneColor:a?void 0:"#bebebe",onClick:function(){return e={name:t,url:r},void(a?(o(e.url),Q.a.info({message:"Unpinned repository",description:e.name,icon:Object(Y.jsx)(ue.a,{twoToneColor:"#bebebe"}),placement:"bottomRight"})):(c(e),Q.a.info({message:"Pinned repository",description:e.name,icon:Object(Y.jsx)(ue.a,{}),placement:"bottomRight"})));var e}})})})]})})),ve=function(){return Object(Y.jsxs)("div",{className:"header",children:[Object(Y.jsxs)("div",{className:"left-section",children:[Object(Y.jsx)("div",{className:"bookmarks",children:Object(Y.jsx)(me,{})}),Object(Y.jsx)("div",{className:"search-bar",children:Object(Y.jsx)(se,{})})]}),Object(Y.jsx)("div",{className:"right-section",children:Object(Y.jsx)("div",{className:"create-badge",children:Object(Y.jsx)(oe,{})})})]})};var xe=function(){return Object(Y.jsxs)("div",{className:"application-container",children:[Object(Y.jsx)(ve,{}),Object(Y.jsx)("div",{className:"content",children:Object(Y.jsxs)(s.d,{children:[Object(Y.jsx)(s.b,{exact:!0,path:["/","/:repositoryUrl"],component:$}),Object(Y.jsx)(s.a,{path:"*",to:"/"})]})})]})},ke=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,360)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))},ge=r(142),ye=r(50),we=(r(344),r(124)),Se=r(199),Ue=r(192),Be=r.n(Ue),Re=r(197),Ne={bookmarks:[]},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.SaveBookmark:return Object(g.a)(Object(g.a)({},e),{},{bookmarks:[].concat(Object(Re.a)(e.bookmarks),[t.payload])});case P.DeleteBookmark:return Object(g.a)(Object(g.a)({},e),{},{bookmarks:e.bookmarks.filter((function(e){return e.url!==t.payload}))});default:return e}},Ie={repoUrl:"",repoInfo:{apiUrl:"",name:"",defaultBranch:""},repoBranch:void 0,selectedFile:{name:"",url:""}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SetRepoUrl:return Object(g.a)(Object(g.a)({},e),{},{repoUrl:t.payload});case n.SetRepoInfo:return Object(g.a)(Object(g.a)({},e),{},{repoInfo:t.payload});case n.SetSelectedFile:return Object(g.a)(Object(g.a)({},e),{},{selectedFile:t.payload});case n.SetRepoBranch:return Object(g.a)(Object(g.a)({},e),{},{repoBranch:t.payload});default:return e}},Le={key:"root",storage:Be.a,whitelist:["bookmarks"]},Ee=Object(ye.c)({bookmarks:Ce,explorer:Fe}),Pe=Object(we.a)(Le,Ee),De=r(28),Ae=b.a.mark(Te);function Te(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.b)([]);case 2:case"end":return e.stop()}}),Ae)}var Ye=r(80),Me=function(e){var t=e.replace("https://github.com/","").split("/"),r=Object(d.a)(t,2),n=r[0],a=r[1];return"https://api.github.com/repos/".concat(n,"/").concat(a)},ze=b.a.mark(_e),Je=b.a.mark(qe),We=b.a.mark(Ke);function _e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Object(Ye.d)(n.SetRepoUrl,qe),"t0",1);case 1:case"end":return e.stop()}}),ze)}function qe(e){var t,r,n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=Me(e.payload),a.delegateYield(Object(Ye.b)(m,t),"t0",3);case 3:return r=a.t0,a.delegateYield(Object(Ye.c)(A(r)),"t1",5);case 5:return n=r.defaultBranch,a.delegateYield(Object(Ye.c)(T(n)),"t2",7);case 7:a.next=13;break;case 9:a.prev=9,a.t3=a.catch(0),console.warn(a.t3),Q.a.error({message:"Oops",description:"Invalid repository URL!",placement:"bottomRight"});case 13:case"end":return a.stop()}}),Je,null,[[0,9]])}function Ke(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Object(Ye.a)([Object(Ye.b)(_e)]),"t0",1);case 1:case"end":return e.stop()}}),We)}var Ge=b.a.mark(He);function He(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.b)([Object(De.d)(Te),Object(De.d)(Ke)]);case 2:case"end":return e.stop()}}),Ge)}var Qe=Object(Se.a)(),Ve=[Qe];var Xe=Object(ye.e)(Pe,ye.a.apply(void 0,Ve));Qe.run(He);var Ze=Object(we.b)(Xe),$e=r(193);i.a.render(Object(Y.jsx)(c.a.StrictMode,{children:Object(Y.jsx)(u.a,{store:Xe,children:Object(Y.jsx)($e.a,{persistor:Ze,children:Object(Y.jsx)(ge.a,{children:Object(Y.jsx)(xe,{})})})})}),document.getElementById("root")),ke()}},[[347,1,2]]]);
//# sourceMappingURL=main.5bd2fe33.chunk.js.map